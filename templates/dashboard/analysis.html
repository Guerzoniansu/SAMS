<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dash | Analysis</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/easy-pie-chart/2.1.6/jquery.easypiechart.min.js"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/colors.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/analysis.css') }}">
</head>
<body>
    <nav class="sidebar opened">

        <a href="/" class="logo_part">
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="30" height="30" viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve"><path d="M28.6,11.3V4.8c0-0.8-0.6-1.4-1.4-1.4h-6.5c-1.2,0-2.4,0.4-3.4,1c-0.5,0.3-0.9,0.7-1.3,1.2c-1.1-1.3-2.8-2.2-4.7-2.2H4.8  C4,3.4,3.4,4,3.4,4.8v6.5c0,1.9,0.9,3.5,2.2,4.7c-1.3,1.1-2.2,2.8-2.2,4.7v6.5c0,0.8,0.6,1.4,1.4,1.4h6.5c0.8,0,1.4-0.6,1.4-1.4  c0-0.8-0.6-1.4-1.4-1.4H6.2v-5.1c0-1.8,1.4-3.2,3.2-3.2h5.1v5.1c0,3.4,2.7,6.1,6.1,6.1h6.5c0.8,0,1.4-0.6,1.4-1.4v-6.5  c0-1.9-0.9-3.5-2.2-4.7C27.8,14.9,28.6,13.2,28.6,11.3z M9.5,14.6c-1.8,0-3.2-1.4-3.2-3.2V6.2h5.1c1.8,0,3.2,1.4,3.2,3.2v5.1H9.5z   M25.8,20.7v5.1h-5.1c-1.8,0-3.2-1.4-3.2-3.2v-5.1h5.1C24.3,17.4,25.8,18.9,25.8,20.7z M17.4,14.6V9.5c0-1.1,0.5-2.1,1.4-2.7  c0.5-0.4,1.2-0.6,1.8-0.6h5.1v5.1c0,1.8-1.4,3.2-3.2,3.2H17.4z" fill = "currentColor"/></svg>
            </div>
            <p class="logo_name">Acme</p>
        </a>
        <div class="pages">
            <a href="/dashboard/home?lat={{rlat}}&lon={{rlon}}" class="item home" status="none">
                <div class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg>
                </div>
                <div class="text">
                    Home
                </div>
            </a>
            <div class="item climate" list="closed">
                <div class="d">
                    <a href="/dashboard/climate?lat={{rlat}}&lon={{rlon}}&key=data&cOneDays=30" class="link">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M260-160q-91 0-155.5-63T40-377q0-78 47-139t123-78q25-92 100-149t170-57q117 0 198.5 81.5T760-520q69 8 114.5 59.5T920-340q0 75-52.5 127.5T740-160H260Zm0-80h480q42 0 71-29t29-71q0-42-29-71t-71-29h-60v-80q0-83-58.5-141.5T480-720q-83 0-141.5 58.5T280-520h-20q-58 0-99 41t-41 99q0 58 41 99t99 41Zm220-240Z"/></svg>
                        </div>
                        <div class="text">
                            Climate
                        </div>
                    </a>
                    <div class="chevron">
                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M480-528 296-344l-56-56 240-240 240 240-56 56-184-184Z"/></svg>
                    </div>
                </div>
                <div class="l">
                    <a href="/dashboard/climate/evland?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Evaporation Land
                    </a>
                    <a href="/dashboard/climate/evptrns?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Evapotranspiration Energy Flux
                    </a>
                    <a href="/dashboard/climate/ws2m?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Wind Speed
                    </a>
                    <a href="/dashboard/climate/t2m?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Temperature
                    </a>
                    <a href="/dashboard/climate/ts?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Earth Skin Temperature
                    </a>
                    <a href="/dashboard/climate/qv2m?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Specific Humidity
                    </a>
                    <a href="/dashboard/climate/rh2m?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Relative Humidity
                    </a>
                    <a href="/dashboard/climate/ps?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Surface Pressure
                    </a>
                    <a href="/dashboard/climate/wd2m?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Wind Direction
                    </a>
                    <a href="/dashboard/climate/cloud_amt_day?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Cloud Amount at Daylight
                    </a>
                    <a href="/dashboard/climate/pw?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Precipitable Water
                    </a>
                    <a href="/dashboard/climate/t2mdew?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Dew Frost Temperature
                    </a>
                    <a href="/dashboard/climate/frostdays?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Frost Days
                    </a>
                    <a href="/dashboard/climate/prectotcorr?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Precipitation Corrected
                    </a>
                </div>
            </div>
            <div class="item soil" list="closed">
                <div class="d">
                    <a href="/dashboard/soil?lat={{rlat}}&lon={{rlon}}&key=data&cOneDays=30" class="link">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-40-82v-78q-33 0-56.5-23.5T360-320v-40L168-552q-3 18-5.5 36t-2.5 36q0 121 79.5 212T440-162Zm276-102q20-22 36-47.5t26.5-53q10.5-27.5 16-56.5t5.5-59q0-98-54.5-179T600-776v16q0 33-23.5 56.5T520-680h-80v80q0 17-11.5 28.5T400-560h-80v80h240q17 0 28.5 11.5T600-440v120h40q26 0 47 15.5t29 40.5Z"/></svg>
                        </div>
                        <div class="text">
                            Soil
                        </div>
                    </a>
                    <div class="chevron">
                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M480-528 296-344l-56-56 240-240 240 240-56 56-184-184Z"/></svg>
                    </div>
                </div>
                <div class="l">
                    <a href="/dashboard/soil/gwetprof?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Profile Soil Moisture
                    </a>
                    <a href="/dashboard/soil/gwetroot?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Root Zone Soil Wetness
                    </a>
                    <a href="/dashboard/soil/gwettop?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Surface Soil Wetness
                    </a>
                    <a href="/dashboard/soil/zom?lat={{rlat}}&lon={{rlon}}&key=data&startYear=1995&endYear=2024&groupBy=default&plotType=scatter&fcstDays=90" class="subitem">
                        Surface Roughness
                    </a>
                </div>
            </div>
            <div class="item agri" list="closed">
                <div class="d">
                    <a href="#" class="link">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M160-600q-17 0-28.5-11.5T120-640q0-17 11.5-28.5T160-680h120q33 0 56.5 23.5T360-600H160Zm80 360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm540 0q25 0 42.5-17.5T840-300q0-25-17.5-42.5T780-360q-25 0-42.5 17.5T720-300q0 25 17.5 42.5T780-240Zm-540-60q-25 0-42.5-17.5T180-360q0-25 17.5-42.5T240-420q25 0 42.5 17.5T300-360q0 25-17.5 42.5T240-300Zm560-139q26 5 43 13.5t37 27.5v-242q0-33-23.5-56.5T800-720H548l-42-44 56-56-28-28-142 142 30 28 56-56 42 42v92q0 33-23.5 56.5T440-520h-81q23 17 37 35t28 45h16q66 0 113-47t47-113v-40h200v201ZM641-320q6-27 14.5-43.5T682-400H436q4 23 4 40t-4 40h205Zm139 160q-58 0-99-41t-41-99q0-58 41-99t99-41q58 0 99 41t41 99q0 58-41 99t-99 41Zm-540 0q-83 0-141.5-58.5T40-360q0-83 58.5-141.5T240-560q83 0 141.5 58.5T440-360q0 83-58.5 141.5T240-160Zm393-360Z"/></svg>
                        </div>
                        <div class="text">
                            Agriculture
                        </div>
                    </a>
                    <div class="chevron">
                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor"><path d="M480-528 296-344l-56-56 240-240 240 240-56 56-184-184Z"/></svg>
                    </div>
                </div>
                <div class="l">
                    <a href="/dashboard/agri/parea?lat={{rlat}}&lon={{rlon}}&key=data&year=2020&tech=R&crop=whea" class="subitem">
                        Physical Area
                    </a>
                    <a href="/dashboard/agri/harea?lat={{rlat}}&lon={{rlon}}&key=data&year=2020&tech=R&crop=whea" class="subitem">
                        Harvested Area
                    </a>
                    <a href="/dashboard/agri/prod?lat={{rlat}}&lon={{rlon}}&key=data&year=2020&tech=R&crop=whea" class="subitem">
                        Production
                    </a>
                    <a href="/dashboard/agri/yield?lat={{rlat}}&lon={{rlon}}&key=data&year=2020&tech=R&crop=whea" class="subitem">
                        Yields
                    </a>
                </div>
            </div>
            <a href="/dashboard/analysis?lat={{rlat}}&lon={{rlon}}&key=data&key_rad=data_rad&pd={{nyStart}}&crop=whea&tgp=max" class="item home" status="selected">
                <div class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M400-640v-200h360q33 0 56.5 23.5T840-760v120H400ZM200-120q-33 0-56.5-23.5T120-200v-360h200v440H200Zm-80-520v-120q0-33 23.5-56.5T200-840h120v200H120ZM520-80 360-240l160-160 56 56-62 64h86q33 0 56.5-23.5T680-360v-88l-64 64-56-56 160-160 160 160-56 56-64-64v88q0 66-47 113t-113 47h-86l62 64-56 56Z"/></svg>
                </div>
                <div class="text">
                    Analysis
                </div>
            </a>
            <a href="/dashboard/land?lat={{rlat}}&lon={{rlon}}&key=data&key_rad=data_rad&imgd={{today}}&param=arvi&pd={{today}}&crop=whea" class="item home" status="none">
                <div class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="m40-240 240-320 180 240h300L560-586 460-454l-50-66 150-200 360 480H40Zm521-80Zm-361 0h160l-80-107-80 107Zm0 0h160-160Z"/></svg>
                </div>
                <div class="text">
                    Landscape
                </div>
            </a>
            <a href="/dashboard/tasks?lat={{rlat}}&lon={{rlon}}&key=data&key_rad=data_rad" class="item home" status="none">
                <div class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="m438-240 226-226-58-58-169 169-84-84-57 57 142 142ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/></svg>
                </div>
                <div class="text">
                    Tasks
                </div>
            </a>
        </div>
    </nav>
    <section class="main">
        <header class="header">
            <div class="left">
                <div class="menu_icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                </div>
                <p class="text">
                    Hide taskbar
                </p>
            </div>
        </header>
        <section class="content">
            <div class="cards">
                <div class="card first">
                    <div class="subcard point">
                        <div class="head">
                            <p class="text">Point Level</p>
                            <div class="other">
                                <p class="countrycode">{{countryCode}}</p>
                                <p class="separator">|</p>
                                <p class="date">{{LastDate}}</p>
                            </div>
                        </div>
                        <div class="cont">
                            <div class="subcont first">
                                <div class="subcont-card">
                                    <p class="text">Temperature</p>
                                    <div class="val">
                                        <p class="lastupdate">{{t2mlu}}</p>
                                        <p class="rate" state="{{t2ms}}">{{t2mr}} <span>%</span></p>
                                    </div>
                                    <p class="number">{{t2m}} <span>°C</span></p>
                                    <div class="graph">
                                        <canvas class="point-graph" id="t2m_growth" height="45px"></canvas>
                                    </div>
                                </div>
                                <hr>
                                <div class="subcont-card">
                                    <p class="text">Precipitation</p>
                                    <div class="val">
                                        <p class="lastupdate">{{prectotcorrlu}}</p>
                                        <p class="rate" state="{{prectotcorrs}}">{{prectotcorrr}} <span>%</span></p>
                                    </div>
                                    <p class="number">{{prectotcorr}} <span>mm/day</span></p>
                                    <div class="graph">
                                        <canvas class="point-graph" id="prectotcorr_growth" height="45px"></canvas>
                                    </div>
                                </div>
                                <hr>
                                <div class="subcont-card">
                                    <p class="text">Wind Speed</p>
                                    <div class="val">
                                        <p class="lastupdate">{{ws2mlu}}</p>
                                        <p class="rate" state="{{ws2ms}}">{{ws2mr}} <span>%</span></p>
                                    </div>
                                    <p class="number">{{ws2m}} m/s</p>
                                    <div class="graph">
                                        <canvas class="point-graph" id="ws2m_growth" height="45px"></canvas>
                                    </div>
                                </div>
                                <hr>
                                <div class="subcont-card">
                                    <p class="text">Evapotranspiration</p>
                                    <div class="val">
                                        <p class="lastupdate">{{evptrnslu}}</p>
                                        <p class="rate" state="{{evptrnss}}">{{evptrnsr}} <span>%</span></p>
                                    </div>
                                    <p class="number">{{evptrns}} <span>MJ/m²day</span></p>
                                    <div class="graph">
                                        <canvas class="point-graph" id="evptrns_growth" height="45px"></canvas>
                                    </div>
                                </div>
                                <hr>
                                <div class="subcont-card">
                                    <p class="text">Evaporation</p>
                                    <div class="val">
                                        <p class="lastupdate">{{evlandlu}}</p>
                                        <p class="rate" state="{{evlands}}">{{evlandr}} <span>%</span></p>
                                    </div>
                                    <p class="number">{{evland}} <span>kg/m²/s</span></p>
                                    <div class="graph">
                                        <canvas class="point-graph" id="evland_growth" height="45px"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="subcont second">
                                <div class="subcont-card">
                                    <p class="text">Temperature Condition Index</p>
                                    <div class="elmts">
                                        <div class="elmts-child">
                                            <div class="tci-chart" data-percent="{{ t2mCI | safe }}" data-scale-color="#ffb400">{{ t2mCI | safe }}%</div>
                                        </div>
                                        <div class="elmts-child hist">
                                            <p class="title">History</p>
                                            <table class="history">
                                                <thead>
                                                    <tr>
                                                        <th>Min</th>
                                                        <th>Max</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>{{t2mMinVal}} °C</td>
                                                        <td>{{t2mMaxVal}} °C</td>
                                                    </tr>
                                                    <tr>
                                                        <td>{{t2mMinDate}}</td>
                                                        <td>{{t2mMaxDate}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="subcont-card precip">
                                    <table class="recap">
                                        <thead>
                                            <tr>
                                                <th>Mean Annual Precipitation</th>
                                                <th>Precipitation Effectiveness Index</th>
                                                <th>Climate</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>{{mcap}} mm/year</td>
                                                <td>{{pei}}</td>
                                                <td>{{climateType}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="graph">
                                        <canvas id="monthprecipitation-chart" height="55px"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="subcont third">
                                <div class="detail">
                                    <p class="text">Precipitation & Soil Suitability for Agriculture</p>
                                    <table>
                                        <tbody>
                                            <tr>
                                                <td>Profile Soil Moisture</td>
                                                <td>{{gwetprofAgriSuitability}} %</td>
                                                <td>
                                                    <div class="progress-bar">
                                                        <div class="progress-fill" data-percent="{{ gwetprofAgriSuitability }}" style="width: {{gwetprofAgriSuitability}}%;"></div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Root Zone Soil Wetness</td>
                                                <td>{{gwetrootAgriSuitability}} %</td>
                                                <td>
                                                    <div class="progress-bar">
                                                        <div class="progress-fill" data-percent="{{ gwetrootAgriSuitability }}" style="width: {{gwetrootAgriSuitability}}%;"></div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Surface Soil Wetness</td>
                                                <td>{{gwettopAgriSuitability}} %</td>
                                                <td>
                                                    <div class="progress-bar">
                                                        <div class="progress-fill" data-percent="{{ gwettopAgriSuitability }}" style="width: {{gwettopAgriSuitability}}%;"></div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Precipitation</td>
                                                <td>{{prectotcorrAgriSuitability}} %</td>
                                                <td>
                                                    <div class="progress-bar">
                                                        <div class="progress-fill" data-percent="{{ prectotcorrAgriSuitability }}" style="width: {{prectotcorrAgriSuitability}}%;"></div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="general">
                                    <p class="text">Overall Suitability</p>
                                    <p class="val">{{gSuitability}} %</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="subcard point">
                        <div class="head">
                            <p class="text">Crops Monitoring</p>
                        </div>
                        <div class="cont crop">
                            <div class="subcont second">
                                <div class="subcont-card recap">
                                    <div class="subcard rh">
                                        <div class="svg">
                                            {% if rh2m > 80 %}
                                                <svg xmlns="http://www.w3.org/2000/svg" height="36px" viewBox="0 -960 960 960" width="36px" fill="currentColor"><path d="M480-120q-124.69 0-212.34-86.12Q180-292.24 180-415.8q0-58.97 23.35-112.81 23.34-53.85 64.5-95.54L480-832.31l212.15 208.16q41.16 41.69 64.5 95.55Q780-474.74 780-415.72q0 123.64-87.66 209.68Q604.69-120 480-120Z"/></svg>
                                            {% elif rh2m < 50 %}
                                                <svg xmlns="http://www.w3.org/2000/svg" height="36px" viewBox="0 -960 960 960" width="36px" fill="currentColor"><path d="M480-120q-124.69 0-212.34-86.12Q180-292.24 180-415.8q0-58.97 23.35-112.81 23.34-53.85 64.5-95.54L480-832.31l212.15 208.16q41.16 41.69 64.5 95.55Q780-474.74 780-415.72q0 123.64-87.66 209.68Q604.69-120 480-120Zm0-60q100 0 170-68.31t70-167.39q0-47.05-18-89.58-18-42.54-52-74.57L480-748 310-579.85q-34 32.03-52 74.57-18 42.53-18 89.58 0 99.08 70 167.39Q380-180 480-180Z"/></svg>
                                            {% else %}
                                                <svg xmlns="http://www.w3.org/2000/svg" height="36px" viewBox="0 -960 960 960" width="36px" fill="currentColor"><path d="M480-100q-133 0-226.5-92T160-416q0-63 24.5-120.5T254-638l226-222 226 222q45 44 69.5 101.5T800-416q0 132-93.5 224T480-100ZM240-416h480q0-47-18-89.5T650-580L480-748 310-580q-34 32-52 74.5T240-416Z"/></svg>
                                            {% endif %}
                                        </div>
                                        <div class="this">
                                            <p class="text">Relative Humidity</p>
                                            <p class="value"><span>Latest:</span>{{rh2m}} %</p>
                                            {% if rh2m > 80 %}
                                                <p class="appreciation">High Humidity | Stronger KC</p>
                                            {% elif rh2m < 50 %}
                                                <p class="appreciation">Low Humidity | Weaker KC</p>
                                            {% else %}
                                                <p class="appreciation">Mid Humidity | Stable KC</p>
                                            {% endif %}
                                        </div>
                                    </div>
                                    <div class="subcard ws">
                                        <div class="svg">
                                            <svg xmlns="http://www.w3.org/2000/svg" height="36px" viewBox="0 -960 960 960" width="36px" fill="currentColor"><path d="M750-614q-27 27-62 41t-70 14q-35 0-69-13.5T488-614l-75-75q-15-15-34-22.5t-39-7.5q-20 0-39 7.5T267-689l-75 75-57-57 75-75q27-27 61-40.5t69-13.5q35 0 68.5 13.5T469-746l75 75q16 16 35 23.5t39 7.5q20 0 39.5-7.5T693-671l75-75 57 57-75 75Zm0 200q-27 27-61.5 40.5T619-360q-35 0-69.5-13.5T488-414l-75-75q-15-15-34-22.5t-39-7.5q-20 0-39 7.5T267-489l-75 75-57-56 75-76q27-27 61-40.5t69-13.5q35 0 68.5 13.5T469-546l75 75q16 16 35 23.5t39 7.5q20 0 39.5-7.5T693-471l75-75 57 57-75 75Zm-1 200q-27 27-61 40.5T619-160q-35 0-69.5-13.5T488-214l-76-75q-15-15-34-22.5t-39-7.5q-20 0-39 7.5T266-289l-75 75-56-56 75-76q27-27 61-40.5t69-13.5q35 0 68.5 13.5T469-346l75 75q16 16 35.5 23.5T619-240q20 0 39-7.5t35-23.5l75-75 56 57-75 75Z"/></svg>
                                        </div>
                                        <div class="this">
                                            <p class="text">Wind Speed</p>
                                            <p class="value"><span>Latest:</span>{{ws2m}} m/s</p>
                                            {% if ws2m > 5 %}
                                                <p class="appreciation">Strong Wind | Stronger KC</p>
                                            {% elif ws2m < 2 %}
                                                <p class="appreciation">Weak Wind | Weaker KC</p>
                                            {% else %}
                                                <p class="appreciation">Moderate Wind | Stable KC</p>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                                <div class="subcont-card et0">
                                    <p class="text">Reference Evapotranspiration (mm/month)</p>
                                    <div class="graph">
                                        <canvas id="monthly-et0_graph" height="70px"></canvas>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="selects">
                                <div class="campaign">
                                    <p class="title">Campaign</p>
                                    <select name="selectCampaign" id="selCampaign">
                                        <option value="cy">Current Year</option>
                                        <option value="ny" selected>Next Year</option>
                                    </select>
                                </div>
                                <div class="type-plantation">
                                    <p class="title">Type of plantation</p>
                                    <select name="selectTop" id="selTop">
                                        <option value="tr">Transplanted</option>
                                        <option value="sw" selected>Sown</option>
                                    </select>
                                </div>
                            </div> -->
                            <div class="subcont third">
                                <div class="bdtable">
                                    <p class="text">Next Year Short Analysis</p>
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Crops</th>
                                                <th>Wheat</th>
                                                <th>Rice</th>
                                                <th>Maize</th>
                                                <th>Pearl Millet</th>
                                                <th>Small Millet</th>
                                                <th>Sorghum</th>
                                                <th>Potato</th>
                                                <th>Sweet Potato</th>
                                            </tr>
                                            <!-- <tr>
                                                <td>whea</td>
                                                <td>rice</td>
                                                <td>maiz</td>
                                                <td>pmil</td>
                                                <td>smil</td>
                                                <td>sorg</td>
                                                <td>pota</td>
                                                <td>swpo</td>
                                            </tr> -->
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Minimum Total Growth Period (days)</td>
                                                <td>{{ wheaMintgp }}</td>
                                                <td>{{ riceMintgp }}</td>
                                                <td>{{ maizMintgp }}</td>
                                                <td>{{ pmilMintgp }}</td>
                                                <td>{{ smilMintgp }}</td>
                                                <td>{{ sorgMintgp }}</td>
                                                <td>{{ potaMintgp }}</td>
                                                <td>{{ swpoMintgp }}</td>
                                            </tr>
                                            <tr>
                                                <td>Best Planting Date (Min TGP)</td>
                                                <td>{{ wheaMinBestPd }}</td>
                                                <td></td>
                                                <td>{{ maizMinBestPd }}</td>
                                                <td>{{ pmilMinBestPd }}</td>
                                                <td>{{ smilMinBestPd }}</td>
                                                <td>{{ sorgMinBestPd }}</td>
                                                <td>{{ potaMinBestPd }}</td>
                                                <td>{{ swpoMinBestPd }}</td>
                                            </tr>
                                            <tr>
                                                <td>Maximum Total Growth Period (days)</td>
                                                <td>{{ wheaMaxtgp }}</td>
                                                <td>{{ riceMaxtgp }}</td>
                                                <td>{{ maizMaxtgp }}</td>
                                                <td>{{ pmilMaxtgp }}</td>
                                                <td>{{ smilMaxtgp }}</td>
                                                <td>{{ sorgMaxtgp }}</td>
                                                <td>{{ potaMaxtgp }}</td>
                                                <td>{{ swpoMaxtgp }}</td>
                                            </tr>
                                            <tr>
                                                <td>Best Planting Date (Max TGP)</td>
                                                <td>{{ wheaMaxBestPd }}</td>
                                                <td></td>
                                                <td>{{ maizMaxBestPd }}</td>
                                                <td>{{ pmilMaxBestPd }}</td>
                                                <td>{{ smilMaxBestPd }}</td>
                                                <td>{{ sorgMaxBestPd }}</td>
                                                <td>{{ potaMaxBestPd }}</td>
                                                <td>{{ swpoMaxBestPd }}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="selects">
                                <div class="item_s plantDate">
                                    <p class="title">Planting Date</p>
                                    <input type="date" name="selPd" id="selectPd">
                                </div>
                                <div class="item_s crop">
                                    <p class="title">Crop</p>
                                    <select name="selCrop" id="selectCrop">
                                        <option value="whea" selected>Wheat</option>
                                        <option value="rice">Rice</option>
                                        <option value="maiz">Maize</option>
                                        <option value="pmil">Pearl Millet</option>
                                        <option value="smil">Small Millet</option>
                                        <option value="sorg">Sorghum</option>
                                        <option value="pota">Potato</option>
                                        <option value="swpo">Sweet Potato</option>
                                    </select>
                                </div>
                                <div class="item_s type">
                                    <p class="title">Total Growth Period</p>
                                    <select name="selType" id="selectType">
                                        <option value="max" selected>Max</option>
                                        <option value="min">Min</option>
                                    </select>
                                </div>
                                <button type="button" onclick="update()">Submit</button>
                            </div>
                            <div class="subcont second">
                                <div class="subcont-card">
                                    <p class="text dif">Growth stages</p>
                                    <div class="elmts stages">
                                        <div class="elmts-child hist">
                                            <table class="history">
                                                <thead>
                                                    <tr>
                                                        <th>Stage</th>
                                                        <th>Time Span</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Initial phase</td>
                                                        <td>{{ipSpan}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Crop development phase</td>
                                                        <td>{{cdpSpan}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Middle season stage</td>
                                                        <td>{{mssSpan}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Late season stage</td>
                                                        <td>{{lssSpan}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <p class="text dif">Effectiveness of rainfall</p>
                                    <p class="elmts eor">{{eor}} %</p>
                                </div>
                                <div class="subcont-card">
                                    <canvas id="comp-prec-wn-stage_graph" height="80px"></canvas>
                                    <canvas id="comp-prec-wn-month_graph" height="80px"></canvas>
                                </div>
                            </div>
                            <div class="subcont">
                                
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card second">
                    <div class="subcard point">
                        <div class="head">
                            <p class="text">Yields</p>
                        </div>
                        <div class="container">
                            <div class="forecast">
                                <p class="text">Potential Yields</p>
                                <div class="table-yield">
                                    <!-- <table>
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th>Rainfed</th>
                                                <th>Irrigated</th>
                                                <th>All Techs</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="even">
                                                <td>Wheat</td>
                                                <td>{{wheaRY}}</td>
                                                <td>{{wheaIY}}</td>
                                                <td>{{wheaAY}}</td>
                                            </tr>
                                            <tr>
                                                <td>Rice</td>
                                                <td>{{riceRY}}</td>
                                                <td>{{riceIY}}</td>
                                                <td>{{riceAY}}</td>
                                            </tr>
                                            <tr class="even">
                                                <td>Maize</td>
                                                <td>{{maizRY}}</td>
                                                <td>{{maizIY}}</td>
                                                <td>{{maizAY}}</td>
                                            </tr>
                                            <tr>
                                                <td>Pearl Millet</td>
                                                <td>{{pmilRY}}</td>
                                                <td>{{pmilIY}}</td>
                                                <td>{{pmilAY}}</td>
                                            </tr>
                                            <tr class="even">
                                                <td>Small Millet</td>
                                                <td>{{smilRY}}</td>
                                                <td>{{smilIY}}</td>
                                                <td>{{smilAY}}</td>
                                            </tr>
                                            <tr>
                                                <td>Sorghum</td>
                                                <td>{{sorgRY}}</td>
                                                <td>{{sorgIY}}</td>
                                                <td>{{sorgAY}}</td>
                                            </tr>
                                            <tr class="even">
                                                <td>Potato</td>
                                                <td>{{potaRY}}</td>
                                                <td>{{potaIY}}</td>
                                                <td>{{potaAY}}</td>
                                            </tr>
                                            <tr>
                                                <td>Sweet Potato</td>
                                                <td>{{swpoRY}}</td>
                                                <td>{{swpoIY}}</td>
                                                <td>{{swpoAY}}</td>
                                            </tr>
                                        </tbody>
                                    </table> -->
                                    <p class="subtext">Rainfed</p>
                                    <canvas id="graph-yield-R" height="80px"></canvas>
                                    <p class="subtext">Irrigated</p>
                                    <canvas id="graph-yield-I" height="80px"></canvas>
                                    <p class="subtext">All technologies</p>
                                    <canvas id="graph-yield-A" height="80px"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="subcard">
                        
                    </div>
                </div>
            </div>
        </section>
    </section>
    <!-- <script>
        const currentYear = new Date().getFullYear();
        const nextYear = currentYear + 1;

        const minDate = `${nextYear}-01-01`;
        const maxDate = `${nextYear}-12-31`;

        const dateInput = document.getElementById("selPd");
        dateInput.min = minDate;
        dateInput.max = maxDate;
        dateInput.value = minDate
    </script> -->
    <script>
        var ctx = document.querySelector("#t2m_growth").getContext("2d");

        var data = {
            labels: {{ t2mInfo["labels"] | tojson }},
            datasets: [{
                data: {{ t2mInfo["values"] | tojson }},
                borderColor: "rgb(117, 186, 255)",
                backgroundColor: 'rgba(117, 186, 255, 0.15)',
                fill: true,
                pointBackgroundColor: 'rgb(117, 186, 255)',
                pointBorderWidth: 0,
                borderWidth: 2,
                pointRadius: 0,
                tension: 0.1,
            }]
        };

        var config = {
            type: 'line',
            data: data,
            options: {
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            display: false
                        },
                        borderColor: 'white',
                    },
                    y: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            display: false
                        },
                        borderColor: '#ffffff',
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                },
                responsive: true,
            }
        };

        var pointChart = new Chart(ctx, config)
    </script>
    <script>
        var ctx = document.querySelector("#prectotcorr_growth").getContext("2d");

        data = {
            labels: {{ prectotcorrInfo["labels"] | tojson }},
            datasets: [{
                data: {{ prectotcorrInfo["values"] | tojson }},
                borderColor: "rgb(117, 186, 255)",
                backgroundColor: 'rgba(117, 186, 255, 0.15)',
                fill: true,
                pointBackgroundColor: 'rgb(117, 186, 255)',
                pointBorderWidth: 0,
                borderWidth: 2,
                pointRadius: 0,
                tension: 0.1,
            }]
        };

        config = {
            type: 'line',
            data: data,
            options: {
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            display: false
                        },
                        borderColor: 'white',
                    },
                    y: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            display: false
                        },
                        borderColor: '#ffffff',
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                },
                responsive: true,
            }
        };

        var pointChart = new Chart(ctx, config)
    </script>
    <script>
        var ctx = document.querySelector("#ws2m_growth").getContext("2d");

        data = {
            labels: {{ ws2mInfo["labels"] | tojson }},
            datasets: [{
                data: {{ ws2mInfo["values"] | tojson }},
                borderColor: "rgb(117, 186, 255)",
                backgroundColor: 'rgba(117, 186, 255, 0.15)',
                fill: true,
                pointBackgroundColor: 'rgb(117, 186, 255)',
                pointBorderWidth: 0,
                borderWidth: 2,
                pointRadius: 0,
                tension: 0.1,
            }]
        };

        config = {
            type: 'line',
            data: data,
            options: {
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            display: false
                        },
                        borderColor: 'white',
                    },
                    y: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            display: false
                        },
                        borderColor: '#ffffff',
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                },
                responsive: true,
            }
        };

        var pointChart = new Chart(ctx, config)
    </script>
    <script>
        var ctx = document.querySelector("#evptrns_growth").getContext("2d");

        data = {
            labels: {{ evptrnsInfo["labels"] | tojson }},
            datasets: [{
                data: {{ evptrnsInfo["values"] | tojson }},
                borderColor: "rgb(117, 186, 255)",
                backgroundColor: 'rgba(117, 186, 255, 0.15)',
                fill: true,
                pointBackgroundColor: 'rgb(117, 186, 255)',
                pointBorderWidth: 0,
                borderWidth: 2,
                pointRadius: 0,
                tension: 0.1,
            }]
        };

        config = {
            type: 'line',
            data: data,
            options: {
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            display: false
                        },
                        borderColor: 'white',
                    },
                    y: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            display: false
                        },
                        borderColor: '#ffffff',
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                },
                responsive: true,
            }
        };

        var pointChart = new Chart(ctx, config)
    </script>
    <script>
        var ctx = document.querySelector("#evland_growth").getContext("2d");

        data = {
            labels: {{ evlandInfo["labels"] | tojson }},
            datasets: [{
                data: {{ evlandInfo["values"] | tojson }},
                borderColor: "rgb(117, 186, 255)",
                backgroundColor: 'rgba(117, 186, 255, 0.15)',
                fill: true,
                pointBackgroundColor: 'rgb(117, 186, 255)',
                pointBorderWidth: 0,
                borderWidth: 2,
                pointRadius: 0,
                tension: 0.1,
            }]
        };

        config = {
            type: 'line',
            data: data,
            options: {
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            display: false
                        },
                        borderColor: 'white',
                    },
                    y: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            display: false
                        },
                        borderColor: '#ffffff',
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                },
                responsive: true,
            }
        };

        var pointChart = new Chart(ctx, config)
    </script>
    <script>
        $(function() {
            $('.tci-chart').easyPieChart({
                size: 300,
                barColor: "hsl(348, 80%, 50%)",
                scaleLength: 0,
                lineWidth: 50,
                trackColor: "hsl(0, 0%, 97%)",
                lineCap: "circle",
                animate: 1500,
            });
        });
    </script>
    <script>
        var ctx = document.getElementById('monthprecipitation-chart').getContext('2d');
        var pointChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                datasets: [{
                    label: 'Precipitation',
                    data: {{ mSumPrecip | safe }},
                    backgroundColor: 'rgba(75, 192, 192, 0.6)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        beginAtZero: true
                    },
                    y: {
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false,
                        position: 'top'
                    }
                }
            }
        });
    </script>

    <script>
        var ctx = document.getElementById('monthly-et0_graph').getContext('2d');
        var pointChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                datasets: [{
                    label: 'ET Reference',
                    data: {{ mSumEt0 | safe }},
                    backgroundColor: 'rgba(255, 117, 117, 0.75)',
                    borderColor: 'rgba(255, 117, 117, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        beginAtZero: true
                    },
                    y: {
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false,
                        position: 'top'
                    }
                }
            }
        });
    </script>

    <script>
        var ctx = document.querySelector("#comp-prec-wn-stage_graph").getContext("2d");

        var pointChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ["Initial Phase", "Crop Development", "Middle Season", "Late Season"],
                datasets: [
                    {
                        label: 'Water Need (mm/day)',
                        data: {{ wnStages | safe }},
                        backgroundColor: 'rgba(75, 192, 192, 0.6)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Precipitation (mm/day)',
                        data: {{ precStages | safe }},
                        backgroundColor: 'rgba(108, 92, 230, 0.6)',
                        borderColor: 'rgba(108, 92, 230, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        beginAtZero: true
                    },
                    y: {
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: true, // Display the legend for both datasets
                        position: 'top'
                    }
                }
            }
        });
    </script>
    <script>
        var ctx = document.querySelector("#comp-prec-wn-month_graph").getContext("2d");

        var pointChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: {{ wnMonth["labels"] | tojson }},
                datasets: [
                    {
                        label: 'Water Need (mm/day)',
                        data: {{ wnMonth["values"] | safe }},
                        backgroundColor: 'rgba(75, 192, 192, 0.6)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Precipitation (mm/day)',
                        data: {{ precMonth["values"] | safe }},
                        backgroundColor: 'rgba(108, 92, 230, 0.6)',
                        borderColor: 'rgba(108, 92, 230, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        beginAtZero: true
                    },
                    y: {
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false, // Display the legend for both datasets
                        position: 'top'
                    }
                }
            }
        });
    </script>


    <script>
        var ctx = document.querySelector("#graph-yield-R").getContext("2d");

        var pointChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: {{ rainfedY["labels"] | tojson }},
                datasets: [
                    {
                        label: 'Yields (t/ha)',
                        data: {{ rainfedY["values"] | safe }},
                        backgroundColor: 'rgba(214, 46, 46, 0.6)',
                        borderColor: 'rgba(214, 46, 46, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        beginAtZero: true
                    },
                    y: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            display: false
                        },
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false, // Display the legend for both datasets
                        position: 'top'
                    }
                }
            }
        });
    </script>
    <script>
        var ctx = document.querySelector("#graph-yield-I").getContext("2d");

        var pointChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: {{ irrigatedY["labels"] | tojson }},
                datasets: [
                    {
                        label: 'Yields (t/ha)',
                        data: {{ irrigatedY["values"] | safe }},
                        backgroundColor: 'rgba(214, 46, 46, 0.6)',
                        borderColor: 'rgba(214, 46, 46, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        beginAtZero: true
                    },
                    y: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            display: false
                        },
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false, // Display the legend for both datasets
                        position: 'top'
                    }
                }
            }
        });
    </script>
    <script src="{{ url_for('static', filename='js/dash/home.js') }}"></script>
    <script src="{{ url_for('static', filename='js/dash/analysis.js') }}"></script>
</body>
</html>